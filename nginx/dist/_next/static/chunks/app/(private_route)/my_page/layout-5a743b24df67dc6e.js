(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9290],{8067:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return h}});var i=n(2265),o=n(4935),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,o.Z)(function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),s=n(6375),c=n(4645),d=n(8654),u=n(7599),p=function(e){return"theme"!==e},m=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?l:p},f=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.hC)(t,n,r),(0,u.L)(function(){return(0,c.My)(t,n,r)}),null},h=(function e(t,n){var o,a,l=t.__emotion_real===t,u=l&&t.__emotion_base||t;void 0!==n&&(o=n.label,a=n.target);var p=f(t,n,l),h=p||m(u),y=!h("as");return function(){var v=arguments,b=l&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==v[0]||void 0===v[0].raw)b.push.apply(b,v);else{b.push(v[0][0]);for(var k=v.length,x=1;x<k;x++)b.push(v[x],v[0][x])}var _=(0,s.w)(function(e,t,n){var r=y&&e.as||u,o="",l=[],f=e;if(null==e.theme){for(var v in f={},e)f[v]=e[v];f.theme=i.useContext(s.T)}"string"==typeof e.className?o=(0,c.fp)(t.registered,l,e.className):null!=e.className&&(o=e.className+" ");var k=(0,d.O)(b.concat(l),t.registered,f);o+=t.key+"-"+k.name,void 0!==a&&(o+=" "+a);var x=y&&void 0===p?m(r):h,_={};for(var w in e)(!y||"as"!==w)&&x(w)&&(_[w]=e[w]);return _.className=o,_.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:k,isStringTag:"string"==typeof r}),i.createElement(r,_))});return _.displayName=void 0!==o?o:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=u,_.__emotion_styles=b,_.__emotion_forwardProp=p,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(t,i){return e(t,r({},n,i,{shouldForwardProp:f(_,i,!0)})).apply(void 0,b)},_}}).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){h[e]=h(e)})},772:function(e,t,n){Promise.resolve().then(n.bind(n,5185))},5185:function(e,t,n){"use strict";n.r(t),n.d(t,{ContentBox:function(){return f},ProfileInfo:function(){return g},WrapperBox:function(){return m},default:function(){return p}});var r=n(7311),i=n(2265),o=n(8067),a=n(6494),l=n(2164),s=n(4903),c=n(2472);async function d(e){try{let t=await (0,c.L)(),n=["/user/".concat(e,"/imagelist-len"),"/user/".concat(e,"/roomlist"),"/user/".concat(e,"/friendlist")].map(e=>s.Z.get(e,{headers:{Authorization:null==t?void 0:t.access_token}})),[r,i,o]=await Promise.all(n);return{imageLen:r.data.imagelist_len,roomListLen:i.data.roomlist.length,friendlistLen:o.data.friendlist.length}}catch(e){e instanceof l.d7?alert("사용자 정보를 받아오지 못하였습니다..다시시도 해주세요!"):console.error("Error: ",e)}}var u=n(3787);function p(e){var t,n,o,l;let{children:s}=e,[c,p]=(0,a.v$)(),h=async()=>{if(null==c?void 0:c.user_info){let e=await d(null==c?void 0:c.user_info.id);await p(t=>({...t,imageLen:null==e?void 0:e.imageLen,roomListLen:null==e?void 0:e.roomListLen,friendlistLen:null==e?void 0:e.friendlistLen,currentPage:u.L.MyPage,navigationTitle:"마이 페이지"}))}};return(0,i.useEffect)(()=>{h()},[]),(0,r.tZ)(m,{children:(0,r.BX)(f,{children:[(0,r.BX)(g,{children:[(0,r.BX)("div",{children:[(0,r.tZ)("span",{className:"user_name",children:null==c?void 0:null===(t=c.user_info)||void 0===t?void 0:t.name}),"님"]}),(0,r.BX)("ul",{className:"info_ul",children:[(0,r.tZ)("li",{children:(0,r.BX)("div",{children:["저장된 사진",(0,r.tZ)("span",{children:null!==(n=null==c?void 0:c.imageLen)&&void 0!==n?n:0})]})}),(0,r.tZ)("li",{children:(0,r.BX)("div",{children:["등록된 방",(0,r.tZ)("span",{children:null!==(o=null==c?void 0:c.roomListLen)&&void 0!==o?o:0})]})}),(0,r.tZ)("li",{children:(0,r.BX)("div",{children:["친구수",(0,r.tZ)("span",{children:null!==(l=null==c?void 0:c.friendlistLen)&&void 0!==l?l:0})]})})]})]}),s]})})}let m=(0,o.Z)("section",{target:"ebd0qxf0"})("\r\n    flex:1 0 auto;display:flex;flex-direction:column;box-sizing:border-box;.nav_box{position:fixed;display:flex;justify-content:space-between;align-items:center;z-index:10;width:100%;padding:0.5rem 9rem;box-sizing:border-box;.goback_room_btn{display:flex;align-items:center;gap:0.5rem;border:1px solid black;border-radius:6px;background-color:darkgray;text-decoration:none;}}"),f=(0,o.Z)("div",{target:"ebd0qxf1"})("\r\n    box-sizing:border-box;height:100%;li{list-style:none;}.info_ul{margin:0;padding:0;}.nav_icon{position:absolute;left:1.5rem;top:0.5rem;display:inline-flex;justify-content:center;align-items:center;width:50px;height:50px;border-radius:20px;cursor:pointer;&:hover{background-color:rgba(212,211,213,0.59);}}.upload_image{text-align:center;margin-bottom:50px;}.content{margin-top:2rem;}"),g=(0,o.Z)("div",{target:"ebd0qxf2"})("\r\n    display:flex;flex-direction:column;justify-content:center;height:150px;padding-left:5rem;margin-bottom:2rem;gap:1rem;.user_name{font-size:2rem;font-weight:bolder;}ul{display:flex;gap:1rem;}@media screen and (max-width:600px){align-items:center;margin:2rem 0;padding:0;ul{flex-direction:column;}}")},4903:function(e,t,n){"use strict";var r=n(9222);let i=r.default.create({baseURL:"https://codakcodak.site/backapi"});t.Z=i},3787:function(e,t,n){"use strict";var r,i;n.d(t,{L:function(){return r}}),(i=r||(r={})).RoomMain="RoomMain",i.ImageRoom="ImageRoom",i.MyPage="MyPage"},7262:function(e,t){"use strict";t.Z={onSet(e,t){let n=JSON.stringify(t);localStorage.setItem(String(e),n)},onGet(e){var t;let n=null!==(t=localStorage.getItem(String(e)))&&void 0!==t?t:"null";try{return JSON.parse(n)}catch(e){return n}}}},6494:function(e,t,n){"use strict";n.d(t,{B1:function(){return o},EE:function(){return l},sB:function(){return a},v$:function(){return d},wy:function(){return s},zV:function(){return c},zW:function(){return u}});var r=n(6881),i=n(7262);let o="@user/token",a="@user/info",l="@user/room",s="@user/friend",c="@user/image",d=(0,r.MT)({key:a,initial:{loginState:"loading"},persistor:i.Z}),u=(0,r.MT)({key:"".concat(c,"-imagelist"),initial:null})},2472:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(9222),i=n(2164),o=n(7262),a=n(6494);let l=async()=>{try{let e=new Date,t=o.Z.onGet(a.B1),n=null==t?void 0:t.access_token,i=null==t?void 0:t.refresh_token,l=null==t?void 0:t.access_token_expire_time,s=null==t?void 0:t.refresh_token_expire_time;if(!l||!s||!n)return null;let c=new Date(l),d=c.getTime()-e.getTime(),u=new Date(s),p=u.getTime()-e.getTime();if(d>=3e4)return t;if(!(p>=3e4))return null;{let e=o.Z.onGet(a.sB),n=null==e?void 0:e.user_info.id,l=await r.default.post("/backapi/user/".concat(n,"/refresh"),{refresh_token:i}),s=l.data;return o.Z.onSet(a.B1,{...t,...s}),s}}catch(e){return e instanceof i.d7?console.error("Error: 사용자 권한을 갱신하지 못하였습니다..",e):console.error("Error: ",e),null}}}},function(e){e.O(0,[7311,6881,2164,2971,596,1744],function(){return e(e.s=772)}),_N_E=e.O()}]);